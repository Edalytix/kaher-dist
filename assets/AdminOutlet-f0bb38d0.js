import{G as _e,u as $e,j as s,B as he,a as es,b as ss,c as is,F as rs,d as ns,r as d,e as ls,R as os,L as p,f as as,N as ms}from"./index-2a5a4d70.js";import{M as ts,B as ds,a as cs,u as ws,N as ps}from"./useAuth-95a4ad94.js";function vs(t){return _e({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(t)}const fs=({showSidebar:t})=>{var v,f,u,x,k,g,j,N,z,F,b,C,B,M,S,D,U,V,y,A,R,I,E,L,H,G,O,P,W,K,X,q,J,Q,T,Y,Z,_,$,h,ee,se,ie,re,ne,le,oe,ae,me,te,de,ce,we,pe,ve,fe,ue,xe,ke,ge,je,Ne,ze,Fe,be,Ce,Be,Me,Se,De,Ue,Ve,ye,Ae,Re,Ie,Ee,Le,He,Ge,Oe,Pe,We,Ke,Xe,qe,Je;const e=$e(i=>i.auth),n=[{name:"Workflows",icons:s.jsx(he,{size:"15"}),view:((u=(f=(v=e==null?void 0:e.user)==null?void 0:v.role)==null?void 0:f.permissions)==null?void 0:u.workflows)=="edit"||((g=(k=(x=e==null?void 0:e.user)==null?void 0:x.role)==null?void 0:k.permissions)==null?void 0:g.workflows)=="view",child:[{name:"View / Manage Workflows",link:"/admin/view-workflows",view:((z=(N=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:N.permissions)==null?void 0:z.workflows)=="edit"||((C=(b=(F=e==null?void 0:e.user)==null?void 0:F.role)==null?void 0:b.permissions)==null?void 0:C.workflows)=="view"},{name:"Create New Workflow",link:"/admin/create-workflow",view:((S=(M=(B=e==null?void 0:e.user)==null?void 0:B.role)==null?void 0:M.permissions)==null?void 0:S.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(ts,{size:"15"}),view:((V=(U=(D=e==null?void 0:e.user)==null?void 0:D.role)==null?void 0:U.permissions)==null?void 0:V.forms)=="edit"||((R=(A=(y=e==null?void 0:e.user)==null?void 0:y.role)==null?void 0:A.permissions)==null?void 0:R.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((L=(E=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:E.permissions)==null?void 0:L.forms)=="edit"||((O=(G=(H=e==null?void 0:e.user)==null?void 0:H.role)==null?void 0:G.permissions)==null?void 0:O.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((K=(W=(P=e==null?void 0:e.user)==null?void 0:P.role)==null?void 0:W.permissions)==null?void 0:K.forms)=="edit"}]},{name:"Users",icons:s.jsx(vs,{size:"15"}),view:((J=(q=(X=e==null?void 0:e.user)==null?void 0:X.role)==null?void 0:q.permissions)==null?void 0:J.users)=="edit"||((Y=(T=(Q=e==null?void 0:e.user)==null?void 0:Q.role)==null?void 0:T.permissions)==null?void 0:Y.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:(($=(_=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:_.permissions)==null?void 0:$.users)=="edit"||((se=(ee=(h=e==null?void 0:e.user)==null?void 0:h.role)==null?void 0:ee.permissions)==null?void 0:se.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((ne=(re=(ie=e==null?void 0:e.user)==null?void 0:ie.role)==null?void 0:re.permissions)==null?void 0:ne.users)=="edit"}]},{name:"Roles",icons:s.jsx(es,{size:"15"}),view:((ae=(oe=(le=e==null?void 0:e.user)==null?void 0:le.role)==null?void 0:oe.permissions)==null?void 0:ae.roles)=="edit"||((de=(te=(me=e==null?void 0:e.user)==null?void 0:me.role)==null?void 0:te.permissions)==null?void 0:de.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((pe=(we=(ce=e==null?void 0:e.user)==null?void 0:ce.role)==null?void 0:we.permissions)==null?void 0:pe.roles)=="edit"||((ue=(fe=(ve=e==null?void 0:e.user)==null?void 0:ve.role)==null?void 0:fe.permissions)==null?void 0:ue.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((ge=(ke=(xe=e==null?void 0:e.user)==null?void 0:xe.role)==null?void 0:ke.permissions)==null?void 0:ge.roles)=="edit"}]},{name:"Departments",icons:s.jsx(ss,{size:"15"}),view:((ze=(Ne=(je=e==null?void 0:e.user)==null?void 0:je.role)==null?void 0:Ne.permissions)==null?void 0:ze.departments)=="edit"||((Ce=(be=(Fe=e==null?void 0:e.user)==null?void 0:Fe.role)==null?void 0:be.permissions)==null?void 0:Ce.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Se=(Me=(Be=e==null?void 0:e.user)==null?void 0:Be.role)==null?void 0:Me.permissions)==null?void 0:Se.departments)=="edit"||((Ve=(Ue=(De=e==null?void 0:e.user)==null?void 0:De.role)==null?void 0:Ue.permissions)==null?void 0:Ve.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Re=(Ae=(ye=e==null?void 0:e.user)==null?void 0:ye.role)==null?void 0:Ae.permissions)==null?void 0:Re.departments)=="edit"}]},{name:"Applications",icons:s.jsx(is,{size:"15"}),view:((Le=(Ee=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Ee.permissions)==null?void 0:Le.applications)=="edit"||((Oe=(Ge=(He=e==null?void 0:e.user)==null?void 0:He.role)==null?void 0:Ge.permissions)==null?void 0:Oe.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Ke=(We=(Pe=e==null?void 0:e.user)==null?void 0:Pe.role)==null?void 0:We.permissions)==null?void 0:Ke.applications)=="edit"||((Je=(qe=(Xe=e==null?void 0:e.user)==null?void 0:Xe.role)==null?void 0:qe.permissions)==null?void 0:Je.applications)=="view"}]},{name:"Designation",icons:s.jsx(ds,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0},{name:"Create New Designation",link:"/admin/create-designation",view:!0}]},{name:"Institution",icons:s.jsx(cs,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0},{name:"Create New Institution",link:"/admin/create-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(rs,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],o=ns(),[c,w]=d.useState(1),Qe=i=>{i==c?w(0):w(i)},Te=n.find(i=>{var l;return(l=i.child)==null?void 0:l.find(a=>a.link==o.pathname)}),Ye=n.indexOf(Te);d.useEffect(()=>{w(Ye+1)},[]);const Ze=ls();return d.useEffect(()=>{var i,l,a;if(!((i=o==null?void 0:o.pathname)!=null&&i.includes("/admin/"))){const r=(a=(l=n==null?void 0:n.find(m=>(m==null?void 0:m.view)==!0))==null?void 0:l.child)==null?void 0:a.find(m=>(m==null?void 0:m.view)==!0);Ze(r==null?void 0:r.link)}},[]),s.jsx(os.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:t?"block":"none"},children:[s.jsxs("div",{className:"navbar-brand-box",style:{display:t?"block":"none"},children:[s.jsxs(p,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("h1",{className:"mt-3 text-black fw-bold",children:"KAHER"})})]}),s.jsxs(p,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[s.jsx("div",{id:"sidebar-menu",children:n==null?void 0:n.map((i,l)=>{var a;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:c==l+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>Qe(l+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(as.Collapse,{isOpen:c==l+1,children:(a=i==null?void 0:i.child)==null?void 0:a.map(r=>r.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:o.pathname==(r==null?void 0:r.link)?"mm-active":"",children:s.jsx(p,{to:r==null?void 0:r.link,style:{fontSize:"14px"},children:r==null?void 0:r.name})})}))})]},l)})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},ks=({children:t})=>{const[e,n]=d.useState(!0),{admin:o}=ws();return o?s.jsxs(s.Fragment,{children:[s.jsx(fs,{showSidebar:e}),s.jsx(ps,{setShowSideBar:n,showSidebar:e}),t]}):s.jsx(ms,{to:"/account/login"})};export{ks as default};
