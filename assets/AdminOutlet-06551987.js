import{a as xi,j as s,B as ci,b as di,H as ki,c as ui,d as ji,F as gi,u as Ni,r as t,e as bi,R as Fi,L as f,f as zi,N as Ri}from"./index-a93bd74f.js";import{M as pi,B as Di,a as Vi,b as Pi,u as Ci,N as Ui}from"./useAuth-547d2bfd.js";const yi=({showSidebar:m,admin:d,setShowSideBar:p})=>{var x,k,u,j,g,N,b,F,z,R,D,V,P,C,U,y,A,B,S,M,I,L,E,_,H,O,G,K,X,Y,q,J,Q,T,W,Z,$,h,ee,se,ie,re,oe,ne,le,ae,me,ce,de,pe,te,we,ve,fe,xe,ke,ue,je,ge,Ne,be,Fe,ze,Re,De,Ve,Pe,Ce,Ue,ye,Ae,Be,Se,Me,Ie,Le,Ee,_e,He,Oe,Ge,Ke,Xe,Ye,qe,Je,Qe,Te,We,Ze,$e,he,es,ss,is,rs,os,ns,ls,as,ms,cs,ds,ps,ts,ws,vs,fs,xs,ks,us,js,gs,Ns,bs,Fs,zs,Rs,Ds,Vs,Ps,Cs,Us,ys,As,Bs,Ss,Ms,Is,Ls,Es,_s,Hs,Os,Gs,Ks,Xs,Ys,qs,Js,Qs,Ts,Ws,Zs,$s,hs,ei,si,ii,ri,oi,ni,li,ai,mi;const e=xi(i=>i.auth),n=[{name:"Dashboard",icons:s.jsx(ci,{size:"15"}),view:!0,child:[{name:"View Users Data",link:"/admin/users",view:!0},{name:"View Applications Data",link:"/admin/applications",view:((k=(x=e==null?void 0:e.user)==null?void 0:x.role)==null?void 0:k._id)=="649c0a7436862aa02b6437b2"||((j=(u=e==null?void 0:e.user)==null?void 0:u.role)==null?void 0:j._id)=="6528e93f3ac77b89a516e9f2"||((N=(g=e==null?void 0:e.user)==null?void 0:g.role)==null?void 0:N._id)=="6528e94f3ac77b89a516ea38"||((F=(b=e==null?void 0:e.user)==null?void 0:b.role)==null?void 0:F._id)=="66167055ca5bcab4ea9cc13b"?!0:""}]},{name:"Research/ Publication Incentives",icons:s.jsx(di,{size:"15"}),view:((D=(R=(z=e==null?void 0:e.user)==null?void 0:z.role)==null?void 0:R.permissions)==null?void 0:D.workflows)=="edit"||((C=(P=(V=e==null?void 0:e.user)==null?void 0:V.role)==null?void 0:P.permissions)==null?void 0:C.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((A=(y=(U=e==null?void 0:e.user)==null?void 0:U.role)==null?void 0:y.permissions)==null?void 0:A.workflows)=="edit"||((M=(S=(B=e==null?void 0:e.user)==null?void 0:B.role)==null?void 0:S.permissions)==null?void 0:M.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((E=(L=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:L.permissions)==null?void 0:E.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(pi,{size:"15"}),view:((O=(H=(_=e==null?void 0:e.user)==null?void 0:_.role)==null?void 0:H.permissions)==null?void 0:O.forms)=="edit"||((X=(K=(G=e==null?void 0:e.user)==null?void 0:G.role)==null?void 0:K.permissions)==null?void 0:X.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((J=(q=(Y=e==null?void 0:e.user)==null?void 0:Y.role)==null?void 0:q.permissions)==null?void 0:J.forms)=="edit"||((W=(T=(Q=e==null?void 0:e.user)==null?void 0:Q.role)==null?void 0:T.permissions)==null?void 0:W.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((h=($=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:$.permissions)==null?void 0:h.forms)=="edit"}]},{name:"Apprisal Forms",icons:s.jsx(pi,{size:"15"}),view:((ie=(se=(ee=e==null?void 0:e.user)==null?void 0:ee.role)==null?void 0:se.permissions)==null?void 0:ie.forms)=="edit"||((ne=(oe=(re=e==null?void 0:e.user)==null?void 0:re.role)==null?void 0:oe.permissions)==null?void 0:ne.forms)=="view",child:[{name:"View / Manage Apprisal Forms",link:"/admin/view-apprisal-forms",view:((me=(ae=(le=e==null?void 0:e.user)==null?void 0:le.role)==null?void 0:ae.permissions)==null?void 0:me.forms)=="edit"||((pe=(de=(ce=e==null?void 0:e.user)==null?void 0:ce.role)==null?void 0:de.permissions)==null?void 0:pe.forms)=="view"},{name:"Create New Apprisal Form",link:"/admin/create-apprisal-form",view:((ve=(we=(te=e==null?void 0:e.user)==null?void 0:te.role)==null?void 0:we.permissions)==null?void 0:ve.forms)=="edit"}]},{name:"Users",icons:s.jsx(ki,{size:"15"}),view:((ke=(xe=(fe=e==null?void 0:e.user)==null?void 0:fe.role)==null?void 0:xe.permissions)==null?void 0:ke.users)=="edit"||((ge=(je=(ue=e==null?void 0:e.user)==null?void 0:ue.role)==null?void 0:je.permissions)==null?void 0:ge.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((Fe=(be=(Ne=e==null?void 0:e.user)==null?void 0:Ne.role)==null?void 0:be.permissions)==null?void 0:Fe.users)=="edit"||((De=(Re=(ze=e==null?void 0:e.user)==null?void 0:ze.role)==null?void 0:Re.permissions)==null?void 0:De.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((Ce=(Pe=(Ve=e==null?void 0:e.user)==null?void 0:Ve.role)==null?void 0:Pe.permissions)==null?void 0:Ce.users)=="edit"}]},{name:"Roles",icons:s.jsx(ui,{size:"15"}),view:((Ae=(ye=(Ue=e==null?void 0:e.user)==null?void 0:Ue.role)==null?void 0:ye.permissions)==null?void 0:Ae.roles)=="edit"||((Me=(Se=(Be=e==null?void 0:e.user)==null?void 0:Be.role)==null?void 0:Se.permissions)==null?void 0:Me.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((Ee=(Le=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Le.permissions)==null?void 0:Ee.roles)=="edit"||((Oe=(He=(_e=e==null?void 0:e.user)==null?void 0:_e.role)==null?void 0:He.permissions)==null?void 0:Oe.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((Xe=(Ke=(Ge=e==null?void 0:e.user)==null?void 0:Ge.role)==null?void 0:Ke.permissions)==null?void 0:Xe.roles)=="edit"}]},{name:"Departments",icons:s.jsx(ji,{size:"15"}),view:((Je=(qe=(Ye=e==null?void 0:e.user)==null?void 0:Ye.role)==null?void 0:qe.permissions)==null?void 0:Je.departments)=="edit"||((We=(Te=(Qe=e==null?void 0:e.user)==null?void 0:Qe.role)==null?void 0:Te.permissions)==null?void 0:We.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((he=($e=(Ze=e==null?void 0:e.user)==null?void 0:Ze.role)==null?void 0:$e.permissions)==null?void 0:he.departments)=="edit"||((is=(ss=(es=e==null?void 0:e.user)==null?void 0:es.role)==null?void 0:ss.permissions)==null?void 0:is.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((ns=(os=(rs=e==null?void 0:e.user)==null?void 0:rs.role)==null?void 0:os.permissions)==null?void 0:ns.departments)=="edit"}]},{name:"Applications",icons:s.jsx(ci,{size:"15"}),view:((ms=(as=(ls=e==null?void 0:e.user)==null?void 0:ls.role)==null?void 0:as.permissions)==null?void 0:ms.applications)=="edit"||((ps=(ds=(cs=e==null?void 0:e.user)==null?void 0:cs.role)==null?void 0:ds.permissions)==null?void 0:ps.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((vs=(ws=(ts=e==null?void 0:e.user)==null?void 0:ts.role)==null?void 0:ws.permissions)==null?void 0:vs.applications)=="edit"||((ks=(xs=(fs=e==null?void 0:e.user)==null?void 0:fs.role)==null?void 0:xs.permissions)==null?void 0:ks.applications)=="view"},{name:"View Protocol Applications",link:"/admin/view-protocol-applications",view:((gs=(js=(us=e==null?void 0:e.user)==null?void 0:us.role)==null?void 0:js.permissions)==null?void 0:gs.applications)=="edit"||((Fs=(bs=(Ns=e==null?void 0:e.user)==null?void 0:Ns.role)==null?void 0:bs.permissions)==null?void 0:Fs.applications)=="view"}]},{name:"Reports",icons:s.jsx(Di,{size:"15"}),view:((Ds=(Rs=(zs=e==null?void 0:e.user)==null?void 0:zs.role)==null?void 0:Rs.permissions)==null?void 0:Ds.reports)=="edit"||((Cs=(Ps=(Vs=e==null?void 0:e.user)==null?void 0:Vs.role)==null?void 0:Ps.permissions)==null?void 0:Cs.reports)=="view",child:[{name:"Download Reports",link:"/admin/reports",view:!0},{name:"Download Protocol Reports",link:"/admin/protocol-reports",view:!0}]},{name:"Designation",icons:s.jsx(Vi,{size:"15"}),view:((As=(ys=(Us=e==null?void 0:e.user)==null?void 0:Us.role)==null?void 0:ys.permissions)==null?void 0:As.designation)=="edit"||((Ms=(Ss=(Bs=e==null?void 0:e.user)==null?void 0:Bs.role)==null?void 0:Ss.permissions)==null?void 0:Ms.designation)=="view",child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(Pi,{size:"15"}),view:((Es=(Ls=(Is=e==null?void 0:e.user)==null?void 0:Is.role)==null?void 0:Ls.permissions)==null?void 0:Es.institution)=="edit"||((Os=(Hs=(_s=e==null?void 0:e.user)==null?void 0:_s.role)==null?void 0:Hs.permissions)==null?void 0:Os.institution)=="view",child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(gi,{size:"15"}),view:((Xs=(Ks=(Gs=e==null?void 0:e.user)==null?void 0:Gs.role)==null?void 0:Ks.permissions)==null?void 0:Xs.upload)=="edit"||((Js=(qs=(Ys=e==null?void 0:e.user)==null?void 0:Ys.role)==null?void 0:qs.permissions)==null?void 0:Js.upload)=="view",child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]},{name:"Research/ Publication Protocol",icons:s.jsx(di,{size:"15"}),view:((Ws=(Ts=(Qs=e==null?void 0:e.user)==null?void 0:Qs.role)==null?void 0:Ts.permissions)==null?void 0:Ws.workflows)=="edit"||((hs=($s=(Zs=e==null?void 0:e.user)==null?void 0:Zs.role)==null?void 0:$s.permissions)==null?void 0:hs.workflows)=="view",child:[{name:"View / Manage Research Protocol",link:"/admin/view-protocol",view:((ii=(si=(ei=e==null?void 0:e.user)==null?void 0:ei.role)==null?void 0:si.permissions)==null?void 0:ii.workflows)=="edit"||((ni=(oi=(ri=e==null?void 0:e.user)==null?void 0:ri.role)==null?void 0:oi.permissions)==null?void 0:ni.workflows)=="view"},{name:"Create New Research Protocol",link:"/admin/create-protocol",view:((mi=(ai=(li=e==null?void 0:e.user)==null?void 0:li.role)==null?void 0:ai.permissions)==null?void 0:mi.workflows)=="edit"}]}],c=Ni(),[w,v]=t.useState(1),ti=i=>{i==w?v(0):v(i)},wi=n.find(i=>{var o;return(o=i.child)==null?void 0:o.find(l=>l.link==c.pathname)}),vi=n.indexOf(wi);t.useEffect(()=>{v(vi+1)},[]);const fi=bi();return t.useEffect(()=>{var i,o,l;if(!((i=c==null?void 0:c.pathname)!=null&&i.includes("/admin/"))){const r=(l=(o=n==null?void 0:n.find(a=>(a==null?void 0:a.view)==!0))==null?void 0:o.child)==null?void 0:l.find(a=>(a==null?void 0:a.view)==!0);fi(r==null?void 0:r.link)}},[]),s.jsx(Fi.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:m?"block":"none",top:d?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{p(!m)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:m?"block":"none"},children:[s.jsxs(f,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(f,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",style:{overflowY:"auto"},children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:n==null?void 0:n.map((i,o)=>{var l;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:w==o+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>ti(o+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(zi.Collapse,{isOpen:w==o+1,children:(l=i==null?void 0:i.child)==null?void 0:l.map(r=>r.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:c.pathname==(r==null?void 0:r.link)?"mm-active":"",children:s.jsx(f,{to:r==null?void 0:r.link,style:{fontSize:"14px"},children:r==null?void 0:r.name})})}))})]},o)})})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},Si=({children:m})=>{const[d,p]=t.useState(!0),{admin:e}=Ci();return e?s.jsxs(s.Fragment,{children:[s.jsx(yi,{showSidebar:d,admin:!0,setShowSideBar:p}),s.jsx(Ui,{setShowSideBar:p,showSidebar:d}),m]}):s.jsx(Ri,{to:"/account/login"})};export{Si as default};
