import{u as is,j as s,B as Ze,a as ns,H as rs,b as ls,c as as,F as os,d as ms,r as p,e as ts,R as cs,L as f,f as ds,N as ps}from"./index-73d5be56.js";import{M as ws,B as vs,a as fs,b as us,u as xs,N as js}from"./useAuth-94910de3.js";const gs=({showSidebar:m,admin:c,setShowSideBar:d})=>{var u,x,j,g,k,N,b,F,z,D,R,U,B,S,V,y,C,I,A,L,M,P,E,H,O,G,K,X,_,q,J,Q,T,W,Y,Z,$,h,ee,se,ie,ne,re,le,ae,oe,me,te,ce,de,pe,we,ve,fe,ue,xe,je,ge,ke,Ne,be,Fe,ze,De,Re,Ue,Be,Se,Ve,ye,Ce,Ie,Ae,Le,Me,Pe,Ee,He,Oe,Ge,Ke,Xe,_e,qe,Je,Qe,Te,We,Ye;const e=is(i=>i.auth),l=[{name:"Dashboard",icons:s.jsx(Ze,{size:"15"}),view:!0,child:[{name:"View Users Data",link:"/admin/users",view:!0},{name:"View Applications Data",link:"/admin/applications",view:((x=(u=e==null?void 0:e.user)==null?void 0:u.role)==null?void 0:x._id)=="649c0a7436862aa02b6437b2"?!0:""}]},{name:"Research/ Publication Incentives",icons:s.jsx(ns,{size:"15"}),view:((k=(g=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:g.permissions)==null?void 0:k.workflows)=="edit"||((F=(b=(N=e==null?void 0:e.user)==null?void 0:N.role)==null?void 0:b.permissions)==null?void 0:F.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((R=(D=(z=e==null?void 0:e.user)==null?void 0:z.role)==null?void 0:D.permissions)==null?void 0:R.workflows)=="edit"||((S=(B=(U=e==null?void 0:e.user)==null?void 0:U.role)==null?void 0:B.permissions)==null?void 0:S.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((C=(y=(V=e==null?void 0:e.user)==null?void 0:V.role)==null?void 0:y.permissions)==null?void 0:C.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(ws,{size:"15"}),view:((L=(A=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:A.permissions)==null?void 0:L.forms)=="edit"||((E=(P=(M=e==null?void 0:e.user)==null?void 0:M.role)==null?void 0:P.permissions)==null?void 0:E.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((G=(O=(H=e==null?void 0:e.user)==null?void 0:H.role)==null?void 0:O.permissions)==null?void 0:G.forms)=="edit"||((_=(X=(K=e==null?void 0:e.user)==null?void 0:K.role)==null?void 0:X.permissions)==null?void 0:_.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((Q=(J=(q=e==null?void 0:e.user)==null?void 0:q.role)==null?void 0:J.permissions)==null?void 0:Q.forms)=="edit"}]},{name:"Users",icons:s.jsx(rs,{size:"15"}),view:((Y=(W=(T=e==null?void 0:e.user)==null?void 0:T.role)==null?void 0:W.permissions)==null?void 0:Y.users)=="edit"||((h=($=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:$.permissions)==null?void 0:h.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((ie=(se=(ee=e==null?void 0:e.user)==null?void 0:ee.role)==null?void 0:se.permissions)==null?void 0:ie.users)=="edit"||((le=(re=(ne=e==null?void 0:e.user)==null?void 0:ne.role)==null?void 0:re.permissions)==null?void 0:le.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((me=(oe=(ae=e==null?void 0:e.user)==null?void 0:ae.role)==null?void 0:oe.permissions)==null?void 0:me.users)=="edit"}]},{name:"Roles",icons:s.jsx(ls,{size:"15"}),view:((de=(ce=(te=e==null?void 0:e.user)==null?void 0:te.role)==null?void 0:ce.permissions)==null?void 0:de.roles)=="edit"||((ve=(we=(pe=e==null?void 0:e.user)==null?void 0:pe.role)==null?void 0:we.permissions)==null?void 0:ve.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((xe=(ue=(fe=e==null?void 0:e.user)==null?void 0:fe.role)==null?void 0:ue.permissions)==null?void 0:xe.roles)=="edit"||((ke=(ge=(je=e==null?void 0:e.user)==null?void 0:je.role)==null?void 0:ge.permissions)==null?void 0:ke.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((Fe=(be=(Ne=e==null?void 0:e.user)==null?void 0:Ne.role)==null?void 0:be.permissions)==null?void 0:Fe.roles)=="edit"}]},{name:"Departments",icons:s.jsx(as,{size:"15"}),view:((Re=(De=(ze=e==null?void 0:e.user)==null?void 0:ze.role)==null?void 0:De.permissions)==null?void 0:Re.departments)=="edit"||((Se=(Be=(Ue=e==null?void 0:e.user)==null?void 0:Ue.role)==null?void 0:Be.permissions)==null?void 0:Se.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Ce=(ye=(Ve=e==null?void 0:e.user)==null?void 0:Ve.role)==null?void 0:ye.permissions)==null?void 0:Ce.departments)=="edit"||((Le=(Ae=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Ae.permissions)==null?void 0:Le.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Ee=(Pe=(Me=e==null?void 0:e.user)==null?void 0:Me.role)==null?void 0:Pe.permissions)==null?void 0:Ee.departments)=="edit"}]},{name:"Applications",icons:s.jsx(Ze,{size:"15"}),view:((Ge=(Oe=(He=e==null?void 0:e.user)==null?void 0:He.role)==null?void 0:Oe.permissions)==null?void 0:Ge.applications)=="edit"||((_e=(Xe=(Ke=e==null?void 0:e.user)==null?void 0:Ke.role)==null?void 0:Xe.permissions)==null?void 0:_e.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Qe=(Je=(qe=e==null?void 0:e.user)==null?void 0:qe.role)==null?void 0:Je.permissions)==null?void 0:Qe.applications)=="edit"||((Ye=(We=(Te=e==null?void 0:e.user)==null?void 0:Te.role)==null?void 0:We.permissions)==null?void 0:Ye.applications)=="view"}]},{name:"Reports",icons:s.jsx(vs,{size:"15"}),view:!0,child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx(fs,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(us,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(os,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],t=ms(),[w,v]=p.useState(1),$e=i=>{i==w?v(0):v(i)},he=l.find(i=>{var r;return(r=i.child)==null?void 0:r.find(a=>a.link==t.pathname)}),es=l.indexOf(he);p.useEffect(()=>{v(es+1)},[]);const ss=ts();return p.useEffect(()=>{var i,r,a;if(!((i=t==null?void 0:t.pathname)!=null&&i.includes("/admin/"))){const n=(a=(r=l==null?void 0:l.find(o=>(o==null?void 0:o.view)==!0))==null?void 0:r.child)==null?void 0:a.find(o=>(o==null?void 0:o.view)==!0);ss(n==null?void 0:n.link)}},[]),s.jsx(cs.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:m?"block":"none",top:c?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{d(!m)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:m?"block":"none"},children:[s.jsxs(f,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(f,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:l==null?void 0:l.map((i,r)=>{var a;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:w==r+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>$e(r+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(ds.Collapse,{isOpen:w==r+1,children:(a=i==null?void 0:i.child)==null?void 0:a.map(n=>n.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:t.pathname==(n==null?void 0:n.link)?"mm-active":"",children:s.jsx(f,{to:n==null?void 0:n.link,style:{fontSize:"14px"},children:n==null?void 0:n.name})})}))})]},r)})})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},bs=({children:m})=>{const[c,d]=p.useState(!0),{admin:e}=xs();return e?s.jsxs(s.Fragment,{children:[s.jsx(gs,{showSidebar:c,admin:!0,setShowSideBar:d}),s.jsx(js,{setShowSideBar:d,showSidebar:c}),m]}):s.jsx(ps,{to:"/account/login"})};export{bs as default};
