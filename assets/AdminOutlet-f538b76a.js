import{a as Os,j as s,B as Is,b as As,H as _s,c as Gs,d as Ks,F as Xs,u as Ys,r as p,e as qs,R as Js,L as f,f as Qs,N as Ts}from"./index-c1e9ab51.js";import{M as Ws,B as Zs,a as $s,b as hs,u as ei,N as si}from"./useAuth-c7b268df.js";const ii=({showSidebar:m,admin:t,setShowSideBar:c})=>{var x,u,j,g,k,N,b,z,F,R,D,U,y,B,C,P,S,V,I,A,L,M,E,H,O,_,G,K,X,Y,q,J,Q,T,W,Z,$,h,ee,se,ie,re,ne,oe,le,ae,me,de,te,ce,pe,we,ve,fe,xe,ue,je,ge,ke,Ne,be,ze,Fe,Re,De,Ue,ye,Be,Ce,Pe,Se,Ve,Ie,Ae,Le,Me,Ee,He,Oe,_e,Ge,Ke,Xe,Ye,qe,Je,Qe,Te,We,Ze,$e,he,es,ss,is,rs,ns,os,ls,as,ms,ds,ts,cs,ps,ws,vs,fs,xs,us,js,gs,ks,Ns,bs,zs,Fs,Rs,Ds,Us,ys,Bs,Cs,Ps,Ss,Vs;const e=Os(i=>i.auth),o=[{name:"Dashboard",icons:s.jsx(Is,{size:"15"}),view:!0,child:[{name:"View Users Data",link:"/admin/users",view:!0},{name:"View Applications Data",link:"/admin/applications",view:((u=(x=e==null?void 0:e.user)==null?void 0:x.role)==null?void 0:u._id)=="649c0a7436862aa02b6437b2"||((g=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:g._id)=="6528e93f3ac77b89a516e9f2"||((N=(k=e==null?void 0:e.user)==null?void 0:k.role)==null?void 0:N._id)=="6528e94f3ac77b89a516ea38"?!0:""}]},{name:"Research/ Publication Incentives",icons:s.jsx(As,{size:"15"}),view:((F=(z=(b=e==null?void 0:e.user)==null?void 0:b.role)==null?void 0:z.permissions)==null?void 0:F.workflows)=="edit"||((U=(D=(R=e==null?void 0:e.user)==null?void 0:R.role)==null?void 0:D.permissions)==null?void 0:U.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((C=(B=(y=e==null?void 0:e.user)==null?void 0:y.role)==null?void 0:B.permissions)==null?void 0:C.workflows)=="edit"||((V=(S=(P=e==null?void 0:e.user)==null?void 0:P.role)==null?void 0:S.permissions)==null?void 0:V.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((L=(A=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:A.permissions)==null?void 0:L.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(Ws,{size:"15"}),view:((H=(E=(M=e==null?void 0:e.user)==null?void 0:M.role)==null?void 0:E.permissions)==null?void 0:H.forms)=="edit"||((G=(_=(O=e==null?void 0:e.user)==null?void 0:O.role)==null?void 0:_.permissions)==null?void 0:G.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((Y=(X=(K=e==null?void 0:e.user)==null?void 0:K.role)==null?void 0:X.permissions)==null?void 0:Y.forms)=="edit"||((Q=(J=(q=e==null?void 0:e.user)==null?void 0:q.role)==null?void 0:J.permissions)==null?void 0:Q.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((Z=(W=(T=e==null?void 0:e.user)==null?void 0:T.role)==null?void 0:W.permissions)==null?void 0:Z.forms)=="edit"}]},{name:"Users",icons:s.jsx(_s,{size:"15"}),view:((ee=(h=($=e==null?void 0:e.user)==null?void 0:$.role)==null?void 0:h.permissions)==null?void 0:ee.users)=="edit"||((re=(ie=(se=e==null?void 0:e.user)==null?void 0:se.role)==null?void 0:ie.permissions)==null?void 0:re.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((le=(oe=(ne=e==null?void 0:e.user)==null?void 0:ne.role)==null?void 0:oe.permissions)==null?void 0:le.users)=="edit"||((de=(me=(ae=e==null?void 0:e.user)==null?void 0:ae.role)==null?void 0:me.permissions)==null?void 0:de.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((pe=(ce=(te=e==null?void 0:e.user)==null?void 0:te.role)==null?void 0:ce.permissions)==null?void 0:pe.users)=="edit"}]},{name:"Roles",icons:s.jsx(Gs,{size:"15"}),view:((fe=(ve=(we=e==null?void 0:e.user)==null?void 0:we.role)==null?void 0:ve.permissions)==null?void 0:fe.roles)=="edit"||((je=(ue=(xe=e==null?void 0:e.user)==null?void 0:xe.role)==null?void 0:ue.permissions)==null?void 0:je.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((Ne=(ke=(ge=e==null?void 0:e.user)==null?void 0:ge.role)==null?void 0:ke.permissions)==null?void 0:Ne.roles)=="edit"||((Fe=(ze=(be=e==null?void 0:e.user)==null?void 0:be.role)==null?void 0:ze.permissions)==null?void 0:Fe.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((Ue=(De=(Re=e==null?void 0:e.user)==null?void 0:Re.role)==null?void 0:De.permissions)==null?void 0:Ue.roles)=="edit"}]},{name:"Departments",icons:s.jsx(Ks,{size:"15"}),view:((Ce=(Be=(ye=e==null?void 0:e.user)==null?void 0:ye.role)==null?void 0:Be.permissions)==null?void 0:Ce.departments)=="edit"||((Ve=(Se=(Pe=e==null?void 0:e.user)==null?void 0:Pe.role)==null?void 0:Se.permissions)==null?void 0:Ve.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Le=(Ae=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Ae.permissions)==null?void 0:Le.departments)=="edit"||((He=(Ee=(Me=e==null?void 0:e.user)==null?void 0:Me.role)==null?void 0:Ee.permissions)==null?void 0:He.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Ge=(_e=(Oe=e==null?void 0:e.user)==null?void 0:Oe.role)==null?void 0:_e.permissions)==null?void 0:Ge.departments)=="edit"}]},{name:"Applications",icons:s.jsx(Is,{size:"15"}),view:((Ye=(Xe=(Ke=e==null?void 0:e.user)==null?void 0:Ke.role)==null?void 0:Xe.permissions)==null?void 0:Ye.applications)=="edit"||((Qe=(Je=(qe=e==null?void 0:e.user)==null?void 0:qe.role)==null?void 0:Je.permissions)==null?void 0:Qe.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Ze=(We=(Te=e==null?void 0:e.user)==null?void 0:Te.role)==null?void 0:We.permissions)==null?void 0:Ze.applications)=="edit"||((es=(he=($e=e==null?void 0:e.user)==null?void 0:$e.role)==null?void 0:he.permissions)==null?void 0:es.applications)=="view"}]},{name:"Reports",icons:s.jsx(Zs,{size:"15"}),view:((rs=(is=(ss=e==null?void 0:e.user)==null?void 0:ss.role)==null?void 0:is.permissions)==null?void 0:rs.reports)=="edit"||((ls=(os=(ns=e==null?void 0:e.user)==null?void 0:ns.role)==null?void 0:os.permissions)==null?void 0:ls.reports)=="view",child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx($s,{size:"15"}),view:((ds=(ms=(as=e==null?void 0:e.user)==null?void 0:as.role)==null?void 0:ms.permissions)==null?void 0:ds.designation)=="edit"||((ps=(cs=(ts=e==null?void 0:e.user)==null?void 0:ts.role)==null?void 0:cs.permissions)==null?void 0:ps.designation)=="view",child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(hs,{size:"15"}),view:((fs=(vs=(ws=e==null?void 0:e.user)==null?void 0:ws.role)==null?void 0:vs.permissions)==null?void 0:fs.institution)=="edit"||((js=(us=(xs=e==null?void 0:e.user)==null?void 0:xs.role)==null?void 0:us.permissions)==null?void 0:js.institution)=="view",child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(Xs,{size:"15"}),view:((Ns=(ks=(gs=e==null?void 0:e.user)==null?void 0:gs.role)==null?void 0:ks.permissions)==null?void 0:Ns.upload)=="edit"||((Fs=(zs=(bs=e==null?void 0:e.user)==null?void 0:bs.role)==null?void 0:zs.permissions)==null?void 0:Fs.upload)=="view",child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]},{name:"Research/ Publication Protocol",icons:s.jsx(As,{size:"15"}),view:((Us=(Ds=(Rs=e==null?void 0:e.user)==null?void 0:Rs.role)==null?void 0:Ds.permissions)==null?void 0:Us.workflows)=="edit"||((Cs=(Bs=(ys=e==null?void 0:e.user)==null?void 0:ys.role)==null?void 0:Bs.permissions)==null?void 0:Cs.workflows)=="view",child:[{name:"Create New Research/ Publication Protocol",link:"/admin/create-protocol",view:((Vs=(Ss=(Ps=e==null?void 0:e.user)==null?void 0:Ps.role)==null?void 0:Ss.permissions)==null?void 0:Vs.workflows)=="edit"}]}],d=Ys(),[w,v]=p.useState(1),Ls=i=>{i==w?v(0):v(i)},Ms=o.find(i=>{var n;return(n=i.child)==null?void 0:n.find(l=>l.link==d.pathname)}),Es=o.indexOf(Ms);p.useEffect(()=>{v(Es+1)},[]);const Hs=qs();return p.useEffect(()=>{var i,n,l;if(!((i=d==null?void 0:d.pathname)!=null&&i.includes("/admin/"))){const r=(l=(n=o==null?void 0:o.find(a=>(a==null?void 0:a.view)==!0))==null?void 0:n.child)==null?void 0:l.find(a=>(a==null?void 0:a.view)==!0);Hs(r==null?void 0:r.link)}},[]),s.jsx(Js.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:m?"block":"none",top:t?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{c(!m)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:m?"block":"none"},children:[s.jsxs(f,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(f,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",style:{overflowY:"auto"},children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:o==null?void 0:o.map((i,n)=>{var l;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:w==n+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>Ls(n+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(Qs.Collapse,{isOpen:w==n+1,children:(l=i==null?void 0:i.child)==null?void 0:l.map(r=>r.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:d.pathname==(r==null?void 0:r.link)?"mm-active":"",children:s.jsx(f,{to:r==null?void 0:r.link,style:{fontSize:"14px"},children:r==null?void 0:r.name})})}))})]},n)})})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},oi=({children:m})=>{const[t,c]=p.useState(!0),{admin:e}=ei();return e?s.jsxs(s.Fragment,{children:[s.jsx(ii,{showSidebar:t,admin:!0,setShowSideBar:c}),s.jsx(si,{setShowSideBar:c,showSidebar:t}),m]}):s.jsx(Ts,{to:"/account/login"})};export{oi as default};
