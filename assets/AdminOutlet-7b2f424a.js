import{G as as,b as os,u as ts,j as s,B as ms,d as ds,f as cs,g as ps,F as ws,a as vs,r as p,h as xs,R as us,L as c,e as m,c as fs,N as gs}from"./index-f04e29c4.js";import{b as js,c as Ns,d as bs,e as ks,M as zs,a as Ds,u as Fs}from"./useAuth-2e1341e0.js";function Ms(a){return as({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(a)}const Ss=({showSidebar:a,admin:w,setShowSideBar:v})=>{var j,N,b,k,z,D,F,M,S,C,R,y,B,U,A,I,P,L,V,h,O,E,G,H,_,K,T,X,q,J,Q,W,Y,Z,$,ee,se,ie,ne,re,le,ae,oe,te,me,de,ce,pe,we,ve,xe,ue,fe,ge,je,Ne,be,ke,ze,De,Fe,Me,Se,Ce,Re,ye,Be,Ue,Ae,Ie,Pe,Le,Ve,he,Oe,Ee,Ge,He,_e,Ke,Te,Xe,qe,Je,Qe,We,Ye,Ze,$e,es;const x=os(),e=ts(i=>i.auth),l=[{name:"Research/ Publication Incentives",icons:s.jsx(ms,{size:"15"}),view:((b=(N=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:N.permissions)==null?void 0:b.workflows)=="edit"||((D=(z=(k=e==null?void 0:e.user)==null?void 0:k.role)==null?void 0:z.permissions)==null?void 0:D.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((S=(M=(F=e==null?void 0:e.user)==null?void 0:F.role)==null?void 0:M.permissions)==null?void 0:S.workflows)=="edit"||((y=(R=(C=e==null?void 0:e.user)==null?void 0:C.role)==null?void 0:R.permissions)==null?void 0:y.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((A=(U=(B=e==null?void 0:e.user)==null?void 0:B.role)==null?void 0:U.permissions)==null?void 0:A.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(js,{size:"15"}),view:((L=(P=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:P.permissions)==null?void 0:L.forms)=="edit"||((O=(h=(V=e==null?void 0:e.user)==null?void 0:V.role)==null?void 0:h.permissions)==null?void 0:O.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((H=(G=(E=e==null?void 0:e.user)==null?void 0:E.role)==null?void 0:G.permissions)==null?void 0:H.forms)=="edit"||((T=(K=(_=e==null?void 0:e.user)==null?void 0:_.role)==null?void 0:K.permissions)==null?void 0:T.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((J=(q=(X=e==null?void 0:e.user)==null?void 0:X.role)==null?void 0:q.permissions)==null?void 0:J.forms)=="edit"}]},{name:"Users",icons:s.jsx(Ms,{size:"15"}),view:((Y=(W=(Q=e==null?void 0:e.user)==null?void 0:Q.role)==null?void 0:W.permissions)==null?void 0:Y.users)=="edit"||((ee=($=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:$.permissions)==null?void 0:ee.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((ne=(ie=(se=e==null?void 0:e.user)==null?void 0:se.role)==null?void 0:ie.permissions)==null?void 0:ne.users)=="edit"||((ae=(le=(re=e==null?void 0:e.user)==null?void 0:re.role)==null?void 0:le.permissions)==null?void 0:ae.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((me=(te=(oe=e==null?void 0:e.user)==null?void 0:oe.role)==null?void 0:te.permissions)==null?void 0:me.users)=="edit"}]},{name:"Roles",icons:s.jsx(ds,{size:"15"}),view:((pe=(ce=(de=e==null?void 0:e.user)==null?void 0:de.role)==null?void 0:ce.permissions)==null?void 0:pe.roles)=="edit"||((xe=(ve=(we=e==null?void 0:e.user)==null?void 0:we.role)==null?void 0:ve.permissions)==null?void 0:xe.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((ge=(fe=(ue=e==null?void 0:e.user)==null?void 0:ue.role)==null?void 0:fe.permissions)==null?void 0:ge.roles)=="edit"||((be=(Ne=(je=e==null?void 0:e.user)==null?void 0:je.role)==null?void 0:Ne.permissions)==null?void 0:be.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((De=(ze=(ke=e==null?void 0:e.user)==null?void 0:ke.role)==null?void 0:ze.permissions)==null?void 0:De.roles)=="edit"}]},{name:"Departments",icons:s.jsx(cs,{size:"15"}),view:((Se=(Me=(Fe=e==null?void 0:e.user)==null?void 0:Fe.role)==null?void 0:Me.permissions)==null?void 0:Se.departments)=="edit"||((ye=(Re=(Ce=e==null?void 0:e.user)==null?void 0:Ce.role)==null?void 0:Re.permissions)==null?void 0:ye.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Ae=(Ue=(Be=e==null?void 0:e.user)==null?void 0:Be.role)==null?void 0:Ue.permissions)==null?void 0:Ae.departments)=="edit"||((Le=(Pe=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Pe.permissions)==null?void 0:Le.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Oe=(he=(Ve=e==null?void 0:e.user)==null?void 0:Ve.role)==null?void 0:he.permissions)==null?void 0:Oe.departments)=="edit"}]},{name:"Applications",icons:s.jsx(ps,{size:"15"}),view:((He=(Ge=(Ee=e==null?void 0:e.user)==null?void 0:Ee.role)==null?void 0:Ge.permissions)==null?void 0:He.applications)=="edit"||((Te=(Ke=(_e=e==null?void 0:e.user)==null?void 0:_e.role)==null?void 0:Ke.permissions)==null?void 0:Te.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Je=(qe=(Xe=e==null?void 0:e.user)==null?void 0:Xe.role)==null?void 0:qe.permissions)==null?void 0:Je.applications)=="edit"||((Ye=(We=(Qe=e==null?void 0:e.user)==null?void 0:Qe.role)==null?void 0:We.permissions)==null?void 0:Ye.applications)=="view"}]},{name:"Reports",icons:s.jsx(Ns,{size:"15"}),view:!0,child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx(bs,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(ks,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(ws,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],d=vs(),[u,f]=p.useState(1),ss=i=>{i==u?f(0):f(i)},is=l.find(i=>{var r;return(r=i.child)==null?void 0:r.find(o=>o.link==d.pathname)}),ns=l.indexOf(is);p.useEffect(()=>{f(ns+1)},[]);const rs=xs();p.useEffect(()=>{var i,r,o;if(!((i=d==null?void 0:d.pathname)!=null&&i.includes("/admin/"))){const n=(o=(r=l==null?void 0:l.find(t=>(t==null?void 0:t.view)==!0))==null?void 0:r.child)==null?void 0:o.find(t=>(t==null?void 0:t.view)==!0);rs(n==null?void 0:n.link)}},[]);const[g,ls]=p.useState(!1);return s.jsx(us.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:a?"block":"none",top:w?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{v(!a)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:a?"block":"none"},children:[s.jsxs(c,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(c,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:l==null?void 0:l.map((i,r)=>{var o;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:u==r+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>ss(r+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(m.Collapse,{isOpen:u==r+1,children:(o=i==null?void 0:i.child)==null?void 0:o.map(n=>n.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:d.pathname==(n==null?void 0:n.link)?"mm-active":"",children:s.jsx(c,{to:n==null?void 0:n.link,style:{fontSize:"14px"},children:n==null?void 0:n.name})})}))})]},r)})})})}),s.jsxs("div",{className:"mt-auto mb-5 pb-5 ms-4",children:[s.jsx("div",{children:s.jsx(c,{to:"/user/dashboard",children:s.jsxs(m.Button,{type:"button",color:"danger",className:"ms-3",children:[s.jsx(zs,{size:"25"})," User Dashboard"]})})}),s.jsxs(m.Dropdown,{isOpen:g,toggle:()=>ls(!g),children:[s.jsxs(m.DropdownToggle,{className:"btn header-item ",id:"page-header-user-dropdown",tag:"button",children:[(Ze=e==null?void 0:e.user)!=null&&Ze.profile_picture?s.jsx("img",{className:"img-thumbnail rounded-circle avatar-sm",src:($e=e==null?void 0:e.user)==null?void 0:$e.profile_picture}):s.jsx(Ds,{size:"30"}),s.jsx("span",{className:"d-none d-xl-inline-block ms-2 me-1 fw-bolder",children:((es=e==null?void 0:e.user)==null?void 0:es.firstName)||"Admin"}),s.jsx("i",{className:"mdi mdi-chevron-down d-none d-xl-inline-block"})]}),s.jsxs(m.DropdownMenu,{className:"dropdown-menu-end",children:[s.jsxs(m.DropdownItem,{tag:"a",href:"/user/profile",children:[" ",s.jsx("i",{className:"bx bx-user font-size-16 align-middle me-1"}),"Profile"," "]}),s.jsx("div",{className:"dropdown-divider"}),s.jsxs(c,{to:"/",className:"dropdown-item",onClick:()=>{x(fs()),localStorage.clear()},children:[s.jsx("i",{className:"bx bx-power-off font-size-16 align-middle me-1 text-danger"}),s.jsx("span",{children:"Logout"})]})]})]})]}),s.jsx("div",{className:"sidebar-background"})]})]})})},ys=({children:a})=>{const[w,v]=p.useState(!0),{admin:x}=Fs();return x?s.jsxs(s.Fragment,{children:[s.jsx(Ss,{showSidebar:w,admin:!0,setShowSideBar:v}),s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{v(!w)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),a]}):s.jsx(gs,{to:"/account/login"})};export{ys as default};
