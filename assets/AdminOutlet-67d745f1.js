import{G as es,u as ss,j as s,B as Ye,a as is,b as ns,c as rs,F as as,d as ls,r as p,e as os,R as ms,L as f,f as ts,N as cs}from"./index-b998a78c.js";import{M as ds,B as ps,a as ws,b as vs,u as fs,N as us}from"./useAuth-4da64540.js";function xs(l){return es({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(l)}const js=({showSidebar:l,admin:c,setShowSideBar:d})=>{var u,x,j,g,k,N,b,z,F,D,R,B,U,C,M,S,V,y,I,A,L,P,E,G,H,O,K,X,q,J,Q,T,W,Y,Z,_,$,h,ee,se,ie,ne,re,ae,le,oe,me,te,ce,de,pe,we,ve,fe,ue,xe,je,ge,ke,Ne,be,ze,Fe,De,Re,Be,Ue,Ce,Me,Se,Ve,ye,Ie,Ae,Le,Pe,Ee,Ge,He,Oe,Ke,Xe,qe,Je,Qe,Te,We;const e=ss(i=>i.auth),a=[{name:"Dashboard",icons:s.jsx(Ye,{size:"15"}),view:!0,child:[{name:"View Users Data",link:"/admin/users",view:!0},{name:"View Applications Data",link:"/admin/applications",view:!0}]},{name:"Research/ Publication Incentives",icons:s.jsx(is,{size:"15"}),view:((j=(x=(u=e==null?void 0:e.user)==null?void 0:u.role)==null?void 0:x.permissions)==null?void 0:j.workflows)=="edit"||((N=(k=(g=e==null?void 0:e.user)==null?void 0:g.role)==null?void 0:k.permissions)==null?void 0:N.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((F=(z=(b=e==null?void 0:e.user)==null?void 0:b.role)==null?void 0:z.permissions)==null?void 0:F.workflows)=="edit"||((B=(R=(D=e==null?void 0:e.user)==null?void 0:D.role)==null?void 0:R.permissions)==null?void 0:B.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((M=(C=(U=e==null?void 0:e.user)==null?void 0:U.role)==null?void 0:C.permissions)==null?void 0:M.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(ds,{size:"15"}),view:((y=(V=(S=e==null?void 0:e.user)==null?void 0:S.role)==null?void 0:V.permissions)==null?void 0:y.forms)=="edit"||((L=(A=(I=e==null?void 0:e.user)==null?void 0:I.role)==null?void 0:A.permissions)==null?void 0:L.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((G=(E=(P=e==null?void 0:e.user)==null?void 0:P.role)==null?void 0:E.permissions)==null?void 0:G.forms)=="edit"||((K=(O=(H=e==null?void 0:e.user)==null?void 0:H.role)==null?void 0:O.permissions)==null?void 0:K.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((J=(q=(X=e==null?void 0:e.user)==null?void 0:X.role)==null?void 0:q.permissions)==null?void 0:J.forms)=="edit"}]},{name:"Users",icons:s.jsx(xs,{size:"15"}),view:((W=(T=(Q=e==null?void 0:e.user)==null?void 0:Q.role)==null?void 0:T.permissions)==null?void 0:W.users)=="edit"||((_=(Z=(Y=e==null?void 0:e.user)==null?void 0:Y.role)==null?void 0:Z.permissions)==null?void 0:_.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((ee=(h=($=e==null?void 0:e.user)==null?void 0:$.role)==null?void 0:h.permissions)==null?void 0:ee.users)=="edit"||((ne=(ie=(se=e==null?void 0:e.user)==null?void 0:se.role)==null?void 0:ie.permissions)==null?void 0:ne.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((le=(ae=(re=e==null?void 0:e.user)==null?void 0:re.role)==null?void 0:ae.permissions)==null?void 0:le.users)=="edit"}]},{name:"Roles",icons:s.jsx(ns,{size:"15"}),view:((te=(me=(oe=e==null?void 0:e.user)==null?void 0:oe.role)==null?void 0:me.permissions)==null?void 0:te.roles)=="edit"||((pe=(de=(ce=e==null?void 0:e.user)==null?void 0:ce.role)==null?void 0:de.permissions)==null?void 0:pe.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((fe=(ve=(we=e==null?void 0:e.user)==null?void 0:we.role)==null?void 0:ve.permissions)==null?void 0:fe.roles)=="edit"||((je=(xe=(ue=e==null?void 0:e.user)==null?void 0:ue.role)==null?void 0:xe.permissions)==null?void 0:je.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((Ne=(ke=(ge=e==null?void 0:e.user)==null?void 0:ge.role)==null?void 0:ke.permissions)==null?void 0:Ne.roles)=="edit"}]},{name:"Departments",icons:s.jsx(rs,{size:"15"}),view:((Fe=(ze=(be=e==null?void 0:e.user)==null?void 0:be.role)==null?void 0:ze.permissions)==null?void 0:Fe.departments)=="edit"||((Be=(Re=(De=e==null?void 0:e.user)==null?void 0:De.role)==null?void 0:Re.permissions)==null?void 0:Be.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Me=(Ce=(Ue=e==null?void 0:e.user)==null?void 0:Ue.role)==null?void 0:Ce.permissions)==null?void 0:Me.departments)=="edit"||((ye=(Ve=(Se=e==null?void 0:e.user)==null?void 0:Se.role)==null?void 0:Ve.permissions)==null?void 0:ye.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Le=(Ae=(Ie=e==null?void 0:e.user)==null?void 0:Ie.role)==null?void 0:Ae.permissions)==null?void 0:Le.departments)=="edit"}]},{name:"Applications",icons:s.jsx(Ye,{size:"15"}),view:((Ge=(Ee=(Pe=e==null?void 0:e.user)==null?void 0:Pe.role)==null?void 0:Ee.permissions)==null?void 0:Ge.applications)=="edit"||((Ke=(Oe=(He=e==null?void 0:e.user)==null?void 0:He.role)==null?void 0:Oe.permissions)==null?void 0:Ke.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Je=(qe=(Xe=e==null?void 0:e.user)==null?void 0:Xe.role)==null?void 0:qe.permissions)==null?void 0:Je.applications)=="edit"||((We=(Te=(Qe=e==null?void 0:e.user)==null?void 0:Qe.role)==null?void 0:Te.permissions)==null?void 0:We.applications)=="view"}]},{name:"Reports",icons:s.jsx(ps,{size:"15"}),view:!0,child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx(ws,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(vs,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(as,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],t=ls(),[w,v]=p.useState(1),Ze=i=>{i==w?v(0):v(i)},_e=a.find(i=>{var r;return(r=i.child)==null?void 0:r.find(o=>o.link==t.pathname)}),$e=a.indexOf(_e);p.useEffect(()=>{v($e+1)},[]);const he=os();return p.useEffect(()=>{var i,r,o;if(!((i=t==null?void 0:t.pathname)!=null&&i.includes("/admin/"))){const n=(o=(r=a==null?void 0:a.find(m=>(m==null?void 0:m.view)==!0))==null?void 0:r.child)==null?void 0:o.find(m=>(m==null?void 0:m.view)==!0);he(n==null?void 0:n.link)}},[]),s.jsx(ms.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:l?"block":"none",top:c?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{d(!l)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:l?"block":"none"},children:[s.jsxs(f,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(f,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:a==null?void 0:a.map((i,r)=>{var o;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:w==r+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>Ze(r+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(ts.Collapse,{isOpen:w==r+1,children:(o=i==null?void 0:i.child)==null?void 0:o.map(n=>n.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:t.pathname==(n==null?void 0:n.link)?"mm-active":"",children:s.jsx(f,{to:n==null?void 0:n.link,style:{fontSize:"14px"},children:n==null?void 0:n.name})})}))})]},r)})})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},Ns=({children:l})=>{const[c,d]=p.useState(!0),{admin:e}=fs();return e?s.jsxs(s.Fragment,{children:[s.jsx(js,{showSidebar:c,admin:!0,setShowSideBar:d}),s.jsx(us,{setShowSideBar:d,showSidebar:c}),l]}):s.jsx(cs,{to:"/account/login"})};export{Ns as default};
