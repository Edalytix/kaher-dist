import{G as he,u as es,j as s,B as ss,a as is,b as rs,c as ns,F as ls,d as as,r as p,e as os,R as ms,L as f,f as ts,N as cs}from"./index-10f76a79.js";import{M as ds,B as ps,a as ws,b as vs,u as fs,N as us}from"./useAuth-40fba88a.js";function xs(a){return he({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(a)}const gs=({showSidebar:a,admin:c,setShowSideBar:d})=>{var u,x,g,j,k,N,b,z,F,R,B,C,M,S,U,y,D,I,V,A,L,P,E,G,H,O,K,X,q,J,Q,T,W,Y,Z,_,$,h,ee,se,ie,re,ne,le,ae,oe,me,te,ce,de,pe,we,ve,fe,ue,xe,ge,je,ke,Ne,be,ze,Fe,Re,Be,Ce,Me,Se,Ue,ye,De,Ie,Ve,Ae,Le,Pe,Ee,Ge,He,Oe,Ke,Xe,qe,Je,Qe,Te,We;const e=es(i=>i.auth),l=[{name:"Research/ Publication Incentives",icons:s.jsx(ss,{size:"15"}),view:((g=(x=(u=e==null?void 0:e.user)==null?void 0:u.role)==null?void 0:x.permissions)==null?void 0:g.workflows)=="edit"||((N=(k=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:k.permissions)==null?void 0:N.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((F=(z=(b=e==null?void 0:e.user)==null?void 0:b.role)==null?void 0:z.permissions)==null?void 0:F.workflows)=="edit"||((C=(B=(R=e==null?void 0:e.user)==null?void 0:R.role)==null?void 0:B.permissions)==null?void 0:C.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((U=(S=(M=e==null?void 0:e.user)==null?void 0:M.role)==null?void 0:S.permissions)==null?void 0:U.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(ds,{size:"15"}),view:((I=(D=(y=e==null?void 0:e.user)==null?void 0:y.role)==null?void 0:D.permissions)==null?void 0:I.forms)=="edit"||((L=(A=(V=e==null?void 0:e.user)==null?void 0:V.role)==null?void 0:A.permissions)==null?void 0:L.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((G=(E=(P=e==null?void 0:e.user)==null?void 0:P.role)==null?void 0:E.permissions)==null?void 0:G.forms)=="edit"||((K=(O=(H=e==null?void 0:e.user)==null?void 0:H.role)==null?void 0:O.permissions)==null?void 0:K.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((J=(q=(X=e==null?void 0:e.user)==null?void 0:X.role)==null?void 0:q.permissions)==null?void 0:J.forms)=="edit"}]},{name:"Users",icons:s.jsx(xs,{size:"15"}),view:((W=(T=(Q=e==null?void 0:e.user)==null?void 0:Q.role)==null?void 0:T.permissions)==null?void 0:W.users)=="edit"||((_=(Z=(Y=e==null?void 0:e.user)==null?void 0:Y.role)==null?void 0:Z.permissions)==null?void 0:_.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:((ee=(h=($=e==null?void 0:e.user)==null?void 0:$.role)==null?void 0:h.permissions)==null?void 0:ee.users)=="edit"||((re=(ie=(se=e==null?void 0:e.user)==null?void 0:se.role)==null?void 0:ie.permissions)==null?void 0:re.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((ae=(le=(ne=e==null?void 0:e.user)==null?void 0:ne.role)==null?void 0:le.permissions)==null?void 0:ae.users)=="edit"}]},{name:"Roles",icons:s.jsx(is,{size:"15"}),view:((te=(me=(oe=e==null?void 0:e.user)==null?void 0:oe.role)==null?void 0:me.permissions)==null?void 0:te.roles)=="edit"||((pe=(de=(ce=e==null?void 0:e.user)==null?void 0:ce.role)==null?void 0:de.permissions)==null?void 0:pe.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((fe=(ve=(we=e==null?void 0:e.user)==null?void 0:we.role)==null?void 0:ve.permissions)==null?void 0:fe.roles)=="edit"||((ge=(xe=(ue=e==null?void 0:e.user)==null?void 0:ue.role)==null?void 0:xe.permissions)==null?void 0:ge.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((Ne=(ke=(je=e==null?void 0:e.user)==null?void 0:je.role)==null?void 0:ke.permissions)==null?void 0:Ne.roles)=="edit"}]},{name:"Departments",icons:s.jsx(rs,{size:"15"}),view:((Fe=(ze=(be=e==null?void 0:e.user)==null?void 0:be.role)==null?void 0:ze.permissions)==null?void 0:Fe.departments)=="edit"||((Ce=(Be=(Re=e==null?void 0:e.user)==null?void 0:Re.role)==null?void 0:Be.permissions)==null?void 0:Ce.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Ue=(Se=(Me=e==null?void 0:e.user)==null?void 0:Me.role)==null?void 0:Se.permissions)==null?void 0:Ue.departments)=="edit"||((Ie=(De=(ye=e==null?void 0:e.user)==null?void 0:ye.role)==null?void 0:De.permissions)==null?void 0:Ie.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Le=(Ae=(Ve=e==null?void 0:e.user)==null?void 0:Ve.role)==null?void 0:Ae.permissions)==null?void 0:Le.departments)=="edit"}]},{name:"Applications",icons:s.jsx(ns,{size:"15"}),view:((Ge=(Ee=(Pe=e==null?void 0:e.user)==null?void 0:Pe.role)==null?void 0:Ee.permissions)==null?void 0:Ge.applications)=="edit"||((Ke=(Oe=(He=e==null?void 0:e.user)==null?void 0:He.role)==null?void 0:Oe.permissions)==null?void 0:Ke.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Je=(qe=(Xe=e==null?void 0:e.user)==null?void 0:Xe.role)==null?void 0:qe.permissions)==null?void 0:Je.applications)=="edit"||((We=(Te=(Qe=e==null?void 0:e.user)==null?void 0:Qe.role)==null?void 0:Te.permissions)==null?void 0:We.applications)=="view"}]},{name:"Reports",icons:s.jsx(ps,{size:"15"}),view:!0,child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx(ws,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(vs,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(ls,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],t=as(),[w,v]=p.useState(1),Ye=i=>{i==w?v(0):v(i)},Ze=l.find(i=>{var n;return(n=i.child)==null?void 0:n.find(o=>o.link==t.pathname)}),_e=l.indexOf(Ze);p.useEffect(()=>{v(_e+1)},[]);const $e=os();return p.useEffect(()=>{var i,n,o;if(!((i=t==null?void 0:t.pathname)!=null&&i.includes("/admin/"))){const r=(o=(n=l==null?void 0:l.find(m=>(m==null?void 0:m.view)==!0))==null?void 0:n.child)==null?void 0:o.find(m=>(m==null?void 0:m.view)==!0);$e(r==null?void 0:r.link)}},[]),s.jsx(ms.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:a?"block":"none",top:c?"0":"70px"},children:[s.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{d(!a)},"data-target":"#topnav-menu-content",children:s.jsx("i",{className:"fa fa-fw fa-bars"})}),s.jsxs("div",{className:"navbar-brand-box",style:{display:a?"block":"none"},children:[s.jsxs(f,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(f,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100 d-flex flex-column",children:[s.jsx("div",{id:"sidebar-menu",children:s.jsx("div",{children:l==null?void 0:l.map((i,n)=>{var o;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:w==n+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>Ye(n+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(ts.Collapse,{isOpen:w==n+1,children:(o=i==null?void 0:i.child)==null?void 0:o.map(r=>r.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:t.pathname==(r==null?void 0:r.link)?"mm-active":"",children:s.jsx(f,{to:r==null?void 0:r.link,style:{fontSize:"14px"},children:r==null?void 0:r.name})})}))})]},n)})})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},Ns=({children:a})=>{const[c,d]=p.useState(!0),{admin:e}=fs();return e?s.jsxs(s.Fragment,{children:[s.jsx(gs,{showSidebar:c,admin:!0,setShowSideBar:d}),s.jsx(us,{setShowSideBar:d,showSidebar:c}),a]}):s.jsx(cs,{to:"/account/login"})};export{Ns as default};
