import{G as _e,u as $e,j as s,B as he,a as es,b as ss,c as is,F as rs,d as ns,r as c,e as ls,R as os,L as w,f as as,N as ms}from"./index-2b16e2bb.js";import{M as ts,B as cs,a as ds,b as ps,u as ws,N as vs}from"./useAuth-e3fc87d3.js";function fs(t){return _e({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}}]})(t)}const us=({showSidebar:t})=>{var v,f,u,x,j,g,k,N,z,b,F,R,B,S,M,U,C,D,y,I,V,A,L,P,E,G,H,O,K,X,q,J,Q,T,W,Y,Z,_,$,h,ee,se,ie,re,ne,le,oe,ae,me,te,ce,de,pe,we,ve,fe,ue,xe,je,ge,ke,Ne,ze,be,Fe,Re,Be,Se,Me,Ue,Ce,De,ye,Ie,Ve,Ae,Le,Pe,Ee,Ge,He,Oe,Ke,Xe,qe,Je,Qe;const e=$e(i=>i.auth),n=[{name:"Research/ Publication Incentives",icons:s.jsx(he,{size:"15"}),view:((u=(f=(v=e==null?void 0:e.user)==null?void 0:v.role)==null?void 0:f.permissions)==null?void 0:u.workflows)=="edit"||((g=(j=(x=e==null?void 0:e.user)==null?void 0:x.role)==null?void 0:j.permissions)==null?void 0:g.workflows)=="view",child:[{name:"View / Manage Research/ Publication Incentives",link:"/admin/view-workflows",view:((z=(N=(k=e==null?void 0:e.user)==null?void 0:k.role)==null?void 0:N.permissions)==null?void 0:z.workflows)=="edit"||((R=(F=(b=e==null?void 0:e.user)==null?void 0:b.role)==null?void 0:F.permissions)==null?void 0:R.workflows)=="view"},{name:"Create New Research/ Publication Incentives",link:"/admin/create-workflow",view:((M=(S=(B=e==null?void 0:e.user)==null?void 0:B.role)==null?void 0:S.permissions)==null?void 0:M.workflows)=="edit"}]},{name:"Forms",icons:s.jsx(ts,{size:"15"}),view:((D=(C=(U=e==null?void 0:e.user)==null?void 0:U.role)==null?void 0:C.permissions)==null?void 0:D.forms)=="edit"||((V=(I=(y=e==null?void 0:e.user)==null?void 0:y.role)==null?void 0:I.permissions)==null?void 0:V.forms)=="view",child:[{name:"View / Manage Forms",link:"/admin/view-forms",view:((P=(L=(A=e==null?void 0:e.user)==null?void 0:A.role)==null?void 0:L.permissions)==null?void 0:P.forms)=="edit"||((H=(G=(E=e==null?void 0:e.user)==null?void 0:E.role)==null?void 0:G.permissions)==null?void 0:H.forms)=="view"},{name:"Create New Form",link:"/admin/create-form",view:((X=(K=(O=e==null?void 0:e.user)==null?void 0:O.role)==null?void 0:K.permissions)==null?void 0:X.forms)=="edit"}]},{name:"Users",icons:s.jsx(fs,{size:"15"}),view:((Q=(J=(q=e==null?void 0:e.user)==null?void 0:q.role)==null?void 0:J.permissions)==null?void 0:Q.users)=="edit"||((Y=(W=(T=e==null?void 0:e.user)==null?void 0:T.role)==null?void 0:W.permissions)==null?void 0:Y.users)=="view",child:[{name:"View / Manage Users",link:"/admin/view-users",view:(($=(_=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:_.permissions)==null?void 0:$.users)=="edit"||((se=(ee=(h=e==null?void 0:e.user)==null?void 0:h.role)==null?void 0:ee.permissions)==null?void 0:se.users)=="view"},{name:"Create New User",link:"/admin/create-user",view:((ne=(re=(ie=e==null?void 0:e.user)==null?void 0:ie.role)==null?void 0:re.permissions)==null?void 0:ne.users)=="edit"}]},{name:"Roles",icons:s.jsx(es,{size:"15"}),view:((ae=(oe=(le=e==null?void 0:e.user)==null?void 0:le.role)==null?void 0:oe.permissions)==null?void 0:ae.roles)=="edit"||((ce=(te=(me=e==null?void 0:e.user)==null?void 0:me.role)==null?void 0:te.permissions)==null?void 0:ce.roles)=="view",child:[{name:"View / Manage Roles",link:"/admin/view-roles",view:((we=(pe=(de=e==null?void 0:e.user)==null?void 0:de.role)==null?void 0:pe.permissions)==null?void 0:we.roles)=="edit"||((ue=(fe=(ve=e==null?void 0:e.user)==null?void 0:ve.role)==null?void 0:fe.permissions)==null?void 0:ue.roles)=="view"},{name:"Create New Role",link:"/admin/create-role",view:((ge=(je=(xe=e==null?void 0:e.user)==null?void 0:xe.role)==null?void 0:je.permissions)==null?void 0:ge.roles)=="edit"}]},{name:"Departments",icons:s.jsx(ss,{size:"15"}),view:((ze=(Ne=(ke=e==null?void 0:e.user)==null?void 0:ke.role)==null?void 0:Ne.permissions)==null?void 0:ze.departments)=="edit"||((Re=(Fe=(be=e==null?void 0:e.user)==null?void 0:be.role)==null?void 0:Fe.permissions)==null?void 0:Re.departments)=="view",child:[{name:"View / Manage Departments",link:"/admin/view-departments",view:((Me=(Se=(Be=e==null?void 0:e.user)==null?void 0:Be.role)==null?void 0:Se.permissions)==null?void 0:Me.departments)=="edit"||((De=(Ce=(Ue=e==null?void 0:e.user)==null?void 0:Ue.role)==null?void 0:Ce.permissions)==null?void 0:De.departments)=="view"},{name:"Create New Department",link:"/admin/create-departments",view:((Ve=(Ie=(ye=e==null?void 0:e.user)==null?void 0:ye.role)==null?void 0:Ie.permissions)==null?void 0:Ve.departments)=="edit"}]},{name:"Applications",icons:s.jsx(is,{size:"15"}),view:((Pe=(Le=(Ae=e==null?void 0:e.user)==null?void 0:Ae.role)==null?void 0:Le.permissions)==null?void 0:Pe.applications)=="edit"||((He=(Ge=(Ee=e==null?void 0:e.user)==null?void 0:Ee.role)==null?void 0:Ge.permissions)==null?void 0:He.applications)=="view",child:[{name:"View Applications",link:"/admin/view-applications",view:((Xe=(Ke=(Oe=e==null?void 0:e.user)==null?void 0:Oe.role)==null?void 0:Ke.permissions)==null?void 0:Xe.applications)=="edit"||((Qe=(Je=(qe=e==null?void 0:e.user)==null?void 0:qe.role)==null?void 0:Je.permissions)==null?void 0:Qe.applications)=="view"}]},{name:"Reports",icons:s.jsx(cs,{size:"15"}),view:!0,child:[{name:"Download Reports",link:"/admin/reports",view:!0}]},{name:"Designation",icons:s.jsx(ds,{size:"15"}),view:!0,child:[{name:"View / Manage Designation",link:"/admin/view-designation",view:!0}]},{name:"Institution",icons:s.jsx(ps,{size:"15"}),view:!0,child:[{name:"View / Manage Institution",link:"/admin/view-institution",view:!0}]},{name:"User Data Upload",icons:s.jsx(rs,{size:"15"}),view:!0,child:[{name:"Add User Data",link:"/admin/add-user",view:!0}]}],o=ns(),[d,p]=c.useState(1),Te=i=>{i==d?p(0):p(i)},We=n.find(i=>{var l;return(l=i.child)==null?void 0:l.find(a=>a.link==o.pathname)}),Ye=n.indexOf(We);c.useEffect(()=>{p(Ye+1)},[]);const Ze=ls();return c.useEffect(()=>{var i,l,a;if(!((i=o==null?void 0:o.pathname)!=null&&i.includes("/admin/"))){const r=(a=(l=n==null?void 0:n.find(m=>(m==null?void 0:m.view)==!0))==null?void 0:l.child)==null?void 0:a.find(m=>(m==null?void 0:m.view)==!0);Ze(r==null?void 0:r.link)}},[]),s.jsx(os.Fragment,{children:s.jsxs("div",{className:"vertical-menu",style:{display:t?"block":"none"},children:[s.jsxs("div",{className:"navbar-brand-box",style:{display:t?"block":"none"},children:[s.jsxs(w,{to:"/",className:"logo logo-dark",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg",children:s.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})})]}),s.jsxs(w,{to:"/",className:"logo logo-light",children:[s.jsx("span",{className:"logo-sm"}),s.jsx("span",{className:"logo-lg"})]})]}),s.jsxs("div",{"data-simplebar":!0,className:"h-100",children:[s.jsx("div",{id:"sidebar-menu",children:n==null?void 0:n.map((i,l)=>{var a;return(i==null?void 0:i.view)&&s.jsx("ul",{className:"metismenu list-unstyled",id:"side-menu",children:s.jsxs("li",{className:d==l+1?"mm-active":"",children:[s.jsxs("a",{className:"has-arrow",onClick:()=>Te(l+1),style:{fontSize:"14px"},children:[i==null?void 0:i.icons,s.jsx("span",{className:"ms-3",children:i==null?void 0:i.name})]}),s.jsx(as.Collapse,{isOpen:d==l+1,children:(a=i==null?void 0:i.child)==null?void 0:a.map(r=>r.view&&s.jsx("ul",{className:"sub-menu","aria-expanded":"false",children:s.jsx("li",{className:o.pathname==(r==null?void 0:r.link)?"mm-active":"",children:s.jsx(w,{to:r==null?void 0:r.link,style:{fontSize:"14px"},children:r==null?void 0:r.name})})}))})]},l)})})}),s.jsx("div",{className:"sidebar-background"})]})]})})},gs=({children:t})=>{const[e,n]=c.useState(!0),{admin:o}=ws();return o?s.jsxs(s.Fragment,{children:[s.jsx(us,{showSidebar:e}),s.jsx(vs,{setShowSideBar:n,showSidebar:e}),t]}):s.jsx(ms,{to:"/account/login"})};export{gs as default};
