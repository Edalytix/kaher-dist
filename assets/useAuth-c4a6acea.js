import{G as t,r as Is,a as Ds,u as Vs,g as Us,j as r,L as n,f as l,h as Ps}from"./index-09117855.js";function ps(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2A10.13 10.13 0 0 0 2 12a10 10 0 0 0 4 7.92V20h.1a9.7 9.7 0 0 0 11.8 0h.1v-.08A10 10 0 0 0 22 12 10.13 10.13 0 0 0 12 2zM8.07 18.93A3 3 0 0 1 11 16.57h2a3 3 0 0 1 2.93 2.36 7.75 7.75 0 0 1-7.86 0zm9.54-1.29A5 5 0 0 0 13 14.57h-2a5 5 0 0 0-4.61 3.07A8 8 0 0 1 4 12a8.1 8.1 0 0 1 8-8 8.1 8.1 0 0 1 8 8 8 8 0 0 1-2.39 5.64z"}},{tag:"path",attr:{d:"M12 6a3.91 3.91 0 0 0-4 4 3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4zm0 6a1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2 1.91 1.91 0 0 1-2 2z"}}]})(s)}function Os(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.857 8.485-3-5A.997.997 0 0 0 18 3h-4.586l-.707-.707a.999.999 0 0 0-1.414 0L10.586 3H6a.997.997 0 0 0-.857.485l-3 5A1.001 1.001 0 0 0 2.002 9H2v10a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V9h-.002c0-.178-.046-.356-.141-.515zM20 18h-6v-4h-4v4H4v-8h2.414l.293-.293 2-2L12 4.414l4.293 4.293 1 1 .293.293H20v8z"}},{tag:"circle",attr:{cx:"11.895",cy:"9.895",r:"2.105"}},{tag:"path",attr:{d:"M6 12h2v3H6zm10 0h2v3h-2z"}}]})(s)}function Rs(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m20 8-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM9 19H7v-9h2v9zm4 0h-2v-6h2v6zm4 0h-2v-3h2v3zM14 9h-1V4l5 5h-4z"}}]})(s)}function Gs(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 2H5a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h4l3 3 3-3h4a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-7 3c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zM7.177 16c.558-1.723 2.496-3 4.823-3s4.266 1.277 4.823 3H7.177z"}}]})(s)}function _s(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"}},{tag:"path",attr:{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"}}]})(s)}function Fs(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}}]})(s)}function Cs(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"g",attr:{fillRule:"evenodd"},child:[{tag:"circle",attr:{cx:"17",cy:"15.5",r:"1.12"}},{tag:"path",attr:{d:"M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08z"}},{tag:"path",attr:{d:"M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.973 5.973 0 0017 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91zM11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91zm6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"}}]}]})(s)}const Ks=({setShowSideBar:s,showSidebar:ds,userView:o})=>{var m,c,p,g,v,x,f,w,z,j,b,N,u,M,H,B,h,k,y,A,L,D,S,I,V,U,P,_,C,E,O,R,G,F,K,T,q,J,Q,W,X,Y,Z,$,ss,es,rs,is,os,ns,ls,ts,cs,gs,vs,xs,fs,ws,zs,js,bs,Ns,us,Ms,Hs,Bs,hs,ks,ys,As,Ls;const[d,as]=Is.useState(!1),e=Ds(Ss=>Ss.auth),i=Vs(),ms=Us(),a=((p=(c=(m=e==null?void 0:e.user)==null?void 0:m.role)==null?void 0:c.permissions)==null?void 0:p.applications)=="edit"||((x=(v=(g=e==null?void 0:e.user)==null?void 0:g.role)==null?void 0:v.permissions)==null?void 0:x.applications)=="view"||((z=(w=(f=e==null?void 0:e.user)==null?void 0:f.role)==null?void 0:w.permissions)==null?void 0:z.departments)=="edit"||((N=(b=(j=e==null?void 0:e.user)==null?void 0:j.role)==null?void 0:b.permissions)==null?void 0:N.departments)=="view"||((H=(M=(u=e==null?void 0:e.user)==null?void 0:u.role)==null?void 0:M.permissions)==null?void 0:H.forms)=="edit"||((k=(h=(B=e==null?void 0:e.user)==null?void 0:B.role)==null?void 0:h.permissions)==null?void 0:k.forms)=="view"||((L=(A=(y=e==null?void 0:e.user)==null?void 0:y.role)==null?void 0:A.permissions)==null?void 0:L.roles)=="edit"||((I=(S=(D=e==null?void 0:e.user)==null?void 0:D.role)==null?void 0:S.permissions)==null?void 0:I.roles)=="view"||((P=(U=(V=e==null?void 0:e.user)==null?void 0:V.role)==null?void 0:U.permissions)==null?void 0:P.users)=="edit"||((E=(C=(_=e==null?void 0:e.user)==null?void 0:_.role)==null?void 0:C.permissions)==null?void 0:E.users)=="view"||((G=(R=(O=e==null?void 0:e.user)==null?void 0:O.role)==null?void 0:R.permissions)==null?void 0:G.workflows)=="edit"||((T=(K=(F=e==null?void 0:e.user)==null?void 0:F.role)==null?void 0:K.permissions)==null?void 0:T.workflows)=="view"||((Q=(J=(q=e==null?void 0:e.user)==null?void 0:q.role)==null?void 0:J.permissions)==null?void 0:Q.reports)=="edit"||((Y=(X=(W=e==null?void 0:e.user)==null?void 0:W.role)==null?void 0:X.permissions)==null?void 0:Y.reports)=="view"||((ss=($=(Z=e==null?void 0:e.user)==null?void 0:Z.role)==null?void 0:$.permissions)==null?void 0:ss.designation)=="edit"||((is=(rs=(es=e==null?void 0:e.user)==null?void 0:es.role)==null?void 0:rs.permissions)==null?void 0:is.designation)=="view"||((ls=(ns=(os=e==null?void 0:e.user)==null?void 0:os.role)==null?void 0:ns.permissions)==null?void 0:ls.institution)=="edit"||((gs=(cs=(ts=e==null?void 0:e.user)==null?void 0:ts.role)==null?void 0:cs.permissions)==null?void 0:gs.institution)=="view"||((fs=(xs=(vs=e==null?void 0:e.user)==null?void 0:vs.role)==null?void 0:xs.permissions)==null?void 0:fs.upload)=="edit"||((js=(zs=(ws=e==null?void 0:e.user)==null?void 0:ws.role)==null?void 0:zs.permissions)==null?void 0:js.upload)=="view";return console.log("admin",((us=(Ns=(bs=e==null?void 0:e.user)==null?void 0:bs.type)==null?void 0:Ns.role)==null?void 0:us.type)=="admin"||a),r.jsx("header",{id:o?"":"page-topbar",className:o?"bg-white":"",children:r.jsxs("div",{className:"navbar-header",children:[r.jsx("div",{className:"d-flex",children:r.jsxs("div",{className:"navbar-brand-box",children:[r.jsxs(n,{to:"/",className:"logo logo-dark",children:[r.jsx("span",{className:"logo-sm"}),r.jsx("span",{className:"logo-lg"})]}),r.jsxs(n,{to:"/",className:"logo logo-light",children:[r.jsx("span",{className:"logo-sm"}),r.jsx("span",{className:"logo-lg"})]}),o?r.jsx(n,{to:"/",children:r.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})}):"",o?null:r.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{s(!ds)},"data-target":"#topnav-menu-content",children:r.jsx("i",{className:"fa fa-fw fa-bars"})})]})}),r.jsx("div",{}),r.jsxs("div",{className:"d-flex align-items-center",children:[((Bs=(Hs=(Ms=e==null?void 0:e.user)==null?void 0:Ms.type)==null?void 0:Hs.role)==null?void 0:Bs.type)=="admin"||a?(hs=i==null?void 0:i.pathname)!=null&&hs.includes("/admin/")?r.jsx(n,{to:"/user/dashboard",children:r.jsxs(l.Button,{type:"button",color:"danger",className:"ms-3",children:[r.jsx(ps,{size:"25"})," User Dashboard"]})}):r.jsx(n,{to:"/admin",children:r.jsxs(l.Button,{type:"button",color:"danger",className:"ms-3",children:[r.jsx(Cs,{size:"25"})," Admin Dashboard"]})}):(ks=i==null?void 0:i.pathname)!=null&&ks.includes("/user/")?"":r.jsx(n,{to:"/user/dashboard",children:r.jsxs(l.Button,{type:"button",color:"danger",className:"ms-3",children:[r.jsx(ps,{size:"25"})," User Dashboard"]})}),r.jsxs(l.Dropdown,{isOpen:d,toggle:()=>as(!d),className:"d-inline-block",children:[r.jsxs(l.DropdownToggle,{className:"btn header-item ",id:"page-header-user-dropdown",tag:"button",children:[(ys=e==null?void 0:e.user)!=null&&ys.profile_picture?r.jsx("img",{className:"img-thumbnail rounded-circle avatar-sm",src:(As=e==null?void 0:e.user)==null?void 0:As.profile_picture}):o?r.jsx(ps,{size:"30"}):r.jsx(_s,{size:"30"}),r.jsx("span",{className:"d-none d-xl-inline-block ms-2 me-1 fw-bolder",children:((Ls=e==null?void 0:e.user)==null?void 0:Ls.firstName)||"Admin"}),r.jsx("i",{className:"mdi mdi-chevron-down d-none d-xl-inline-block"})]}),r.jsxs(l.DropdownMenu,{className:"dropdown-menu-end",children:[r.jsxs(l.DropdownItem,{tag:"a",href:"/user/profile",children:[" ",r.jsx("i",{className:"bx bx-user font-size-16 align-middle me-1"}),"Profile"," "]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs(n,{to:"/",className:"dropdown-item",onClick:()=>{ms(Ps()),localStorage.clear()},children:[r.jsx("i",{className:"bx bx-power-off font-size-16 align-middle me-1 text-danger"}),r.jsx("span",{children:"Logout"})]})]})]})]})]})})};function Ts(){var d,as,e,i,ms,a,m,c,p,g,v,x,f,w,z,j,b,N,u,M,H,B,h,k,y,A,L,D,S,I,V,U,P,_,C,E,O,R,G,F,K,T,q,J,Q,W,X,Y,Z,$,ss,es,rs,is,os,ns,ls,ts;const s=Ds(cs=>cs.auth),ds=!0;((e=(as=(d=s==null?void 0:s.user)==null?void 0:d.role)==null?void 0:as.permissions)==null?void 0:e.applications)=="edit"||((a=(ms=(i=s==null?void 0:s.user)==null?void 0:i.role)==null?void 0:ms.permissions)==null?void 0:a.applications)=="view"||((p=(c=(m=s==null?void 0:s.user)==null?void 0:m.role)==null?void 0:c.permissions)==null?void 0:p.departments)=="edit"||((x=(v=(g=s==null?void 0:s.user)==null?void 0:g.role)==null?void 0:v.permissions)==null?void 0:x.departments)=="view"||((z=(w=(f=s==null?void 0:s.user)==null?void 0:f.role)==null?void 0:w.permissions)==null?void 0:z.forms)=="edit"||((N=(b=(j=s==null?void 0:s.user)==null?void 0:j.role)==null?void 0:b.permissions)==null?void 0:N.forms)=="view"||((H=(M=(u=s==null?void 0:s.user)==null?void 0:u.role)==null?void 0:M.permissions)==null?void 0:H.roles)=="edit"||((k=(h=(B=s==null?void 0:s.user)==null?void 0:B.role)==null?void 0:h.permissions)==null?void 0:k.roles)=="view"||((L=(A=(y=s==null?void 0:s.user)==null?void 0:y.role)==null?void 0:A.permissions)==null?void 0:L.users)=="edit"||((I=(S=(D=s==null?void 0:s.user)==null?void 0:D.role)==null?void 0:S.permissions)==null?void 0:I.users)=="view"||((P=(U=(V=s==null?void 0:s.user)==null?void 0:V.role)==null?void 0:U.permissions)==null?void 0:P.workflows)=="edit"||((E=(C=(_=s==null?void 0:s.user)==null?void 0:_.role)==null?void 0:C.permissions)==null?void 0:E.workflows)=="view";const o=((G=(R=(O=s==null?void 0:s.user)==null?void 0:O.role)==null?void 0:R.permissions)==null?void 0:G.applications)=="none"&&((T=(K=(F=s==null?void 0:s.user)==null?void 0:F.role)==null?void 0:K.permissions)==null?void 0:T.departments)=="none"&&((Q=(J=(q=s==null?void 0:s.user)==null?void 0:q.role)==null?void 0:J.permissions)==null?void 0:Q.forms)=="none"&&((Y=(X=(W=s==null?void 0:s.user)==null?void 0:W.role)==null?void 0:X.permissions)==null?void 0:Y.roles)=="none"&&((ss=($=(Z=s==null?void 0:s.user)==null?void 0:Z.role)==null?void 0:$.permissions)==null?void 0:ss.users)=="none"&&((is=(rs=(es=s==null?void 0:s.user)==null?void 0:es.role)==null?void 0:rs.permissions)==null?void 0:is.workflows)=="none";return s!=null&&s.refresh_token&&((ns=(os=s==null?void 0:s.user)==null?void 0:os.role)==null?void 0:ns.type)=="admin"||ds?{loggedIn:!0,admin:!0}:s!=null&&s.refresh_token&&((ts=(ls=s==null?void 0:s.user)==null?void 0:ls.role)==null?void 0:ts.type)=="user"||ds||o?{loggedIn:!0,admin:!1}:{loggedIn:!0}}export{Rs as B,Fs as M,Ks as N,Gs as a,Os as b,Ts as u};
