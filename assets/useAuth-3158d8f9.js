import{G as t,r as X,u as Q,d as Y,g as Z,j as e,L as i,f as a,h as $}from"./index-dee7f4e8.js";function F(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2A10.13 10.13 0 0 0 2 12a10 10 0 0 0 4 7.92V20h.1a9.7 9.7 0 0 0 11.8 0h.1v-.08A10 10 0 0 0 22 12 10.13 10.13 0 0 0 12 2zM8.07 18.93A3 3 0 0 1 11 16.57h2a3 3 0 0 1 2.93 2.36 7.75 7.75 0 0 1-7.86 0zm9.54-1.29A5 5 0 0 0 13 14.57h-2a5 5 0 0 0-4.61 3.07A8 8 0 0 1 4 12a8.1 8.1 0 0 1 8-8 8.1 8.1 0 0 1 8 8 8 8 0 0 1-2.39 5.64z"}},{tag:"path",attr:{d:"M12 6a3.91 3.91 0 0 0-4 4 3.91 3.91 0 0 0 4 4 3.91 3.91 0 0 0 4-4 3.91 3.91 0 0 0-4-4zm0 6a1.91 1.91 0 0 1-2-2 1.91 1.91 0 0 1 2-2 1.91 1.91 0 0 1 2 2 1.91 1.91 0 0 1-2 2z"}}]})(s)}function ns(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.857 8.485-3-5A.997.997 0 0 0 18 3h-4.586l-.707-.707a.999.999 0 0 0-1.414 0L10.586 3H6a.997.997 0 0 0-.857.485l-3 5A1.001 1.001 0 0 0 2.002 9H2v10a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V9h-.002c0-.178-.046-.356-.141-.515zM20 18h-6v-4h-4v4H4v-8h2.414l.293-.293 2-2L12 4.414l4.293 4.293 1 1 .293.293H20v8z"}},{tag:"circle",attr:{cx:"11.895",cy:"9.895",r:"2.105"}},{tag:"path",attr:{d:"M6 12h2v3H6zm10 0h2v3h-2z"}}]})(s)}function os(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m20 8-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zM9 19H7v-9h2v9zm4 0h-2v-6h2v6zm4 0h-2v-3h2v3zM14 9h-1V4l5 5h-4z"}}]})(s)}function is(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 2H5a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h4l3 3 3-3h4a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-7 3c1.727 0 3 1.272 3 3s-1.273 3-3 3c-1.726 0-3-1.272-3-3s1.274-3 3-3zM7.177 16c.558-1.723 2.496-3 4.823-3s4.266 1.277 4.823 3H7.177z"}}]})(s)}function ss(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"}},{tag:"path",attr:{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"}}]})(s)}function as(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}}]})(s)}function es(s){return t({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"g",attr:{fillRule:"evenodd"},child:[{tag:"circle",attr:{cx:"17",cy:"15.5",r:"1.12"}},{tag:"path",attr:{d:"M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08z"}},{tag:"path",attr:{d:"M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.973 5.973 0 0017 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91zM11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91zm6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"}}]}]})(s)}const ts=({setShowSideBar:s,showSidebar:E,userView:o})=>{var c,m,p,g,v,x,h,f,u,z,j,b,N,M,w,H,B,y,A,L,k,D,S,I,V,U,P,_,C;const[l,O]=X.useState(!1),r=Q(G=>G.auth),n=Y(),R=Z(),d=((p=(m=(c=r==null?void 0:r.user)==null?void 0:c.role)==null?void 0:m.permissions)==null?void 0:p.applications)=="edit"||((x=(v=(g=r==null?void 0:r.user)==null?void 0:g.role)==null?void 0:v.permissions)==null?void 0:x.departments)=="edit"||((u=(f=(h=r==null?void 0:r.user)==null?void 0:h.role)==null?void 0:f.permissions)==null?void 0:u.forms)=="edit"||((b=(j=(z=r==null?void 0:r.user)==null?void 0:z.role)==null?void 0:j.permissions)==null?void 0:b.roles)=="edit"||((w=(M=(N=r==null?void 0:r.user)==null?void 0:N.role)==null?void 0:M.permissions)==null?void 0:w.users)=="edit"||((y=(B=(H=r==null?void 0:r.user)==null?void 0:H.role)==null?void 0:B.permissions)==null?void 0:y.workflows)=="edit";return console.log("admin",((k=(L=(A=r==null?void 0:r.user)==null?void 0:A.type)==null?void 0:L.role)==null?void 0:k.type)=="admin"||d),e.jsx("header",{id:o?"":"page-topbar",className:o?"bg-white":"",children:e.jsxs("div",{className:"navbar-header",children:[e.jsx("div",{className:"d-flex",children:e.jsxs("div",{className:"navbar-brand-box",children:[e.jsxs(i,{to:"/",className:"logo logo-dark",children:[e.jsx("span",{className:"logo-sm"}),e.jsx("span",{className:"logo-lg"})]}),e.jsxs(i,{to:"/",className:"logo logo-light",children:[e.jsx("span",{className:"logo-sm"}),e.jsx("span",{className:"logo-lg"})]}),o?e.jsx(i,{to:"/",children:e.jsx("img",{src:"/KLEU.png",style:{width:"40px"}})}):"",o?null:e.jsx("button",{type:"button",className:"btn btn-sm px-3 font-size-16 d-lg-none header-item","data-toggle":"collapse",onClick:()=>{s(!E)},"data-target":"#topnav-menu-content",children:e.jsx("i",{className:"fa fa-fw fa-bars"})})]})}),e.jsx("div",{}),e.jsxs("div",{className:"d-flex align-items-center",children:[((I=(S=(D=r==null?void 0:r.user)==null?void 0:D.type)==null?void 0:S.role)==null?void 0:I.type)=="admin"||d?(V=n==null?void 0:n.pathname)!=null&&V.includes("/admin/")?e.jsx(i,{to:"/user/dashboard",children:e.jsxs(a.Button,{type:"button",color:"danger",className:"ms-3",children:[e.jsx(F,{size:"25"})," User Dashboard"]})}):e.jsx(i,{to:"/admin",children:e.jsxs(a.Button,{type:"button",color:"danger",className:"ms-3",children:[e.jsx(es,{size:"25"})," Admin Dashboard"]})}):(U=n==null?void 0:n.pathname)!=null&&U.includes("/user/")?"":e.jsx(i,{to:"/user/dashboard",children:e.jsxs(a.Button,{type:"button",color:"danger",className:"ms-3",children:[e.jsx(F,{size:"25"})," User Dashboard"]})}),e.jsxs(a.Dropdown,{isOpen:l,toggle:()=>O(!l),className:"d-inline-block",children:[e.jsxs(a.DropdownToggle,{className:"btn header-item ",id:"page-header-user-dropdown",tag:"button",children:[(P=r==null?void 0:r.user)!=null&&P.profile_picture?e.jsx("img",{className:"img-thumbnail rounded-circle avatar-sm",src:(_=r==null?void 0:r.user)==null?void 0:_.profile_picture}):o?e.jsx(F,{size:"30"}):e.jsx(ss,{size:"30"}),e.jsx("span",{className:"d-none d-xl-inline-block ms-2 me-1 fw-bolder",children:((C=r==null?void 0:r.user)==null?void 0:C.firstName)||"Admin"}),e.jsx("i",{className:"mdi mdi-chevron-down d-none d-xl-inline-block"})]}),e.jsxs(a.DropdownMenu,{className:"dropdown-menu-end",children:[e.jsxs(a.DropdownItem,{tag:"a",href:"/user/profile",children:[" ",e.jsx("i",{className:"bx bx-user font-size-16 align-middle me-1"}),"Profile"," "]}),e.jsx("div",{className:"dropdown-divider"}),e.jsxs(i,{to:"/",className:"dropdown-item",onClick:()=>{R($()),localStorage.clear()},children:[e.jsx("i",{className:"bx bx-power-off font-size-16 align-middle me-1 text-danger"}),e.jsx("span",{children:"Logout"})]})]})]})]})]})})};function ls(){var l,O,r,n,R,d,c,m,p,g,v,x,h,f,u,z,j,b,N,M,w,H,B,y,A,L,k,D,S,I,V,U,P,_,C,G,K,T,q,J;const s=Q(W=>W.auth),E=!0;((r=(O=(l=s==null?void 0:s.user)==null?void 0:l.role)==null?void 0:O.permissions)==null?void 0:r.applications)=="edit"||((d=(R=(n=s==null?void 0:s.user)==null?void 0:n.role)==null?void 0:R.permissions)==null?void 0:d.departments)=="edit"||((p=(m=(c=s==null?void 0:s.user)==null?void 0:c.role)==null?void 0:m.permissions)==null?void 0:p.forms)=="edit"||((x=(v=(g=s==null?void 0:s.user)==null?void 0:g.role)==null?void 0:v.permissions)==null?void 0:x.roles)=="edit"||((u=(f=(h=s==null?void 0:s.user)==null?void 0:h.role)==null?void 0:f.permissions)==null?void 0:u.users)=="edit"||((b=(j=(z=s==null?void 0:s.user)==null?void 0:z.role)==null?void 0:j.permissions)==null?void 0:b.workflows)=="edit";const o=((w=(M=(N=s==null?void 0:s.user)==null?void 0:N.role)==null?void 0:M.permissions)==null?void 0:w.applications)=="none"&&((y=(B=(H=s==null?void 0:s.user)==null?void 0:H.role)==null?void 0:B.permissions)==null?void 0:y.departments)=="none"&&((k=(L=(A=s==null?void 0:s.user)==null?void 0:A.role)==null?void 0:L.permissions)==null?void 0:k.forms)=="none"&&((I=(S=(D=s==null?void 0:s.user)==null?void 0:D.role)==null?void 0:S.permissions)==null?void 0:I.roles)=="none"&&((P=(U=(V=s==null?void 0:s.user)==null?void 0:V.role)==null?void 0:U.permissions)==null?void 0:P.users)=="none"&&((G=(C=(_=s==null?void 0:s.user)==null?void 0:_.role)==null?void 0:C.permissions)==null?void 0:G.workflows)=="none";return s!=null&&s.refresh_token&&((T=(K=s==null?void 0:s.user)==null?void 0:K.role)==null?void 0:T.type)=="admin"||E?{loggedIn:!0,admin:!0}:s!=null&&s.refresh_token&&((J=(q=s==null?void 0:s.user)==null?void 0:q.role)==null?void 0:J.type)=="user"||E||o?{loggedIn:!0,admin:!1}:{loggedIn:!0}}export{os as B,as as M,ts as N,is as a,ns as b,ls as u};
